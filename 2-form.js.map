{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = 'feedback-msg';\nconst formData = {\n    email: \"\",\n    message: \"\"\n};\nconst refs = {\n    form: document.querySelector('.feedback-form'),\n};\nrefs.form.addEventListener('input', e => {\n    const email = e.currentTarget.elements.email.value;\n    const message = e.currentTarget.elements.message.value;\n    const data = {email, message};\n    saveToLS(STORAGE_KEY, data);    \n});\n\nfunction initPage() {\n    const formData = loadFromLS(STORAGE_KEY);\n    refs.form.elements.email.value = formData?.email || '';\n    refs.form.elements.message.value = formData?.message || '';\n\n}\ninitPage();\n\nrefs.form.addEventListener('submit', e => {\n    e.preventDefault();\n    const email = e.currentTarget.elements.email.value;\n    const message = e.currentTarget.elements.message.value;\n    const data = {email, message};\n    console.log(data);\n    localStorage.removeItem(STORAGE_KEY);\n    e.target.reset();  \n});\n\nfunction saveToLS(key, value) {\n    const jsonData = JSON.stringify(value);\n    localStorage.setItem(key, jsonData);\n}\n\nfunction loadFromLS(key) {\n    const body = localStorage.getItem(key);\n    try {\n        const data = JSON.parse(body);\n        return data;\n    } catch {\n        return body;\n    }\n}"],"names":["STORAGE_KEY","refs","email","message","saveToLS","initPage","formData","loadFromLS","key","value","jsonData","body"],"mappings":"oDAAA,MAAMA,EAAc,eAKdC,EAAO,CACT,KAAM,SAAS,cAAc,gBAAgB,CACjD,EACAA,EAAK,KAAK,iBAAiB,QAAS,GAAK,CACrC,MAAMC,EAAQ,EAAE,cAAc,SAAS,MAAM,MACvCC,EAAU,EAAE,cAAc,SAAS,QAAQ,MAEjDC,EAASJ,EADI,CAAC,MAAAE,EAAO,QAAAC,CAAO,CACF,CAC9B,CAAC,EAED,SAASE,GAAW,CAChB,MAAMC,EAAWC,EAAWP,CAAW,EACvCC,EAAK,KAAK,SAAS,MAAM,OAAQK,GAAA,YAAAA,EAAU,QAAS,GACpDL,EAAK,KAAK,SAAS,QAAQ,OAAQK,GAAA,YAAAA,EAAU,UAAW,EAE5D,CACAD,IAEAJ,EAAK,KAAK,iBAAiB,SAAU,GAAK,CACtC,EAAE,eAAc,EAChB,MAAMC,EAAQ,EAAE,cAAc,SAAS,MAAM,MACvCC,EAAU,EAAE,cAAc,SAAS,QAAQ,MAEjD,QAAQ,IADK,CAAC,MAAAD,EAAO,QAAAC,CAAO,CACZ,EAChB,aAAa,WAAWH,CAAW,EACnC,EAAE,OAAO,OACb,CAAC,EAED,SAASI,EAASI,EAAKC,EAAO,CAC1B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACtC,CAEA,SAASH,EAAWC,EAAK,CACrB,MAAMG,EAAO,aAAa,QAAQH,CAAG,EACrC,GAAI,CAEA,OADa,KAAK,MAAMG,CAAI,CAEpC,MAAY,CACJ,OAAOA,CACV,CACL"}